syntax = "proto3";


package jthealth.biz.user.v1;

option csharp_namespace = "Jthealth.Biz.User.V1";
option go_package =
    "github.com/jinmukeji/jt-proto/gen/go/jthealth/biz/user/v1;userv1";
option java_multiple_files = true;
option java_outer_classname = "UserProto";
option java_package = "com.jthealth.biz.user.v1";
option objc_class_prefix = "JBU";
option php_namespace = "Jthealth\\Biz\\User\\V1";

// UserAPI 用户模块.
service UserAPI {
  // SignInByPhoneCode 手机号验证码登录.
  rpc SignInByPhoneCode(SignInByPhoneCodeRequest)returns(SignInByPhoneCodeResponse);
  //SignInByPassWord 账号密码登录
  rpc SignInByPassWord (SignInByPassWordRequest)returns(SignInByPassWordResponse);
  //GetUserInfosById 获取用户信息
  rpc GetUserInfosById(GetUserInfosByIdRequest)returns(GetUserInfosByIdResponse);
  //UpdateUserInfos  更改用户信息
  rpc UpdateUserInfos(UpdateUserInfosRequest)returns(UpdateUserInfosResponse);

  //----------------------应用详情-------------------------------
  //应用申请
  rpc ApplyApplication(ApplyApplicationRequest)returns(ApplyApplicationResponse);
  //获取应用详情
  rpc GetApplicationInfo(GetApplicationInfoRequest)returns(GetApplicationInfoResponse);
}

// 手机号验证码登录请求
message SignInByPhoneCodeRequest {
  // 手机号
  string phone = 1;
  // 验证码
  string sms_code = 2;

}

// 手机号验证码登录响应
message SignInByPhoneCodeResponse {
  string user_id = 1;
  string role = 2;
}
//获取用户信息
message GetUserInfosByIdRequest{
  string user_id = 1;
}
message GetUserInfosByIdResponse{
  string avatar_url = 1;
  string user_name = 2;
  string app_key = 3;
  string phone = 4;
  string email = 5;
  string created_at = 6;
  string user_id = 7;
  string is_completed = 8;
}
//UpdateUserInfos  更改用户信息
message UpdateUserInfosRequest{
  string user_id = 1;
  string avatar_url = 2;
  string user_name =3;
  string phone =4;
  string sms_code =5;
  string email =6;
}
message UpdateUserInfosResponse{
  string user_id =1;
  string avatar_url = 2;
  string user_name =3;
  string phone = 4;
  string email =5;
}
//SignInByPassWord 账号密码登录
message SignInByPassWordRequest{
  string user_number = 1;
  string pass_word = 2;
}
message SignInByPassWordResponse{
  string user_id = 1;
  string role = 2;
}

//应用申请
message ApplyApplicationRequest{
  string user_id =1;
  string logo_url =2;
  string app_name = 3;
  string app_type = 4;
}
message ApplyApplicationResponse{
  string status =1;
}
//获取应用列表
message GetApplicationInfoRequest{
  string user_id =1;
}
message GetApplicationInfoResponse{
  repeated ApplicationList list =1;
}
message ApplicationList{
  string application_id =1;
  string app_logo =2;
  string app_name =3;
  string app_status =4;
  string app_role = 5;
  string app_id =6;

}