//
// 常州金姆健康科技有限公司. (c) 2019
//

syntax = "proto3";

package jthealth.biz.report.v1;

option csharp_namespace = "Jthealth.Biz.Report.V1";
option go_package =
    "github.com/jinmukeji/jt-proto/gen/go/jthealth/biz/report/v1;reportv1";
option java_multiple_files = true;
option java_outer_classname = "ReportApiProto";
option java_package = "com.jthealth.biz.report.v1";
option objc_class_prefix = "JBR";
option php_namespace = "Jthealth\\Biz\\Report\\V1";

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";
import "google/protobuf/empty.proto";

// ReportAPI 报告API.
service ReportAPI {
  // SubmitPulseTest 提交采样数据.
  rpc SubmitPulseTest(SubmitPulseTestRequest) returns(SubmitPulseTestResponse);
  // GetReport 获取阶梯报告.
  rpc GetReport(GetReportRequest) returns(GetReportResponse);
  // GetJTReport获取经通天下报告
  rpc GetJTReport(GetJTReportRequest) returns(GetJTReportResponse);
  // GetMealSuggestion 通过体质获得膳食建议.
  rpc GetMealSuggestion(GetMealSuggestionRequest)returns(GetMealSuggestionResponse);

  //创建风险推荐商品
  rpc CreateRiskCommodity(CreateRiskCommodityRequest)returns(CreateRiskCommodityResponse);
  //获取风险列表
  rpc GetRiskList(google.protobuf.Empty)returns(GetRiskListResponse);
  //获取风险描述
  rpc GetRiskDescribe(GetRiskDescribeRequest)returns(GetRiskDescribeResponse);
  //更新风险描述
  rpc UpdateRiskDescribe(UpdateRiskDescribeRequest)returns(UpdateRiskDescribeResponse);
  //获取经络列表
  rpc GetMeridianList(google.protobuf.Empty)returns(GetMeridianListResponse);
  //获取经络描述
  rpc GetMeridianDescribe(GetMeridianDescribeRequest)returns(GetMeridianDescribeResponse);
  //更新经络描述
  rpc UpdateMeridianDescribe(UpdateMeridianDescribeRequest)returns(UpdateMeridianDescribeResponse);
  //获取体质列表
  rpc GetPhysicalList(google.protobuf.Empty)returns(GetPhysicalListResponse);
  //获取体质描述
  rpc GetPhysicalDescribe(GetPhysicalDescribeRequest)returns(GetPhysicalDescribeResponse);
  //更新体质描述
  rpc UpdatePhysicalDescribe(UpdatePhysicalDescribeRequest)returns(UpdatePhysicalDescribeResponse);
  //获取推荐商品列表
  rpc GetRiskCommodityList(GetRiskCommodityListRequest)returns(GetRiskCommodityListResponse);
  //编辑报告显示内容
  rpc EditReportShow(EditReportShowRequest)returns(EditReportShowResponse);
  //获取报告显示内容
  rpc GetReportShow(GetReportShowRequest)returns(GetReportShowResponse);
  //编辑报告对比显示功能
  rpc EditReportComparedShow(EditReportComparedShowRequest)returns(EditReportComparedShowResponse);
  //获取报告对比显示功能
  rpc GetReportComparedShow(GetReportComparedShowRequest)returns(GetReportComparedShowResponse);
  // 报告对比接口
  rpc GetComparisonReportNew(GetComparisonReportNewRequest) returns (GetComparisonReportNewResponse);

  //近两天报告
  rpc ListDaysReports(ListDaysReportsRequest) returns (ListDaysReportsResponse);
  //近一周报告
  rpc ListWeekDaysReports(ListWeekDaysReportsRequest) returns (ListWeekDaysReportsResponse);
  //ListMonthlyReportDays
  rpc ListMonthlyReportDays(ListMonthlyReportDaysRequest)returns(ListMonthlyReportDaysResponse);
  // ListReports 查看测量记录.
  rpc ListReports(ListReportsRequest) returns(ListReportsResponse);
  //获取18大风险详情
  rpc GetRiskDetailByKey(GetRiskDetailByKeyRequest)returns(GetRiskDetailByKeyResponse);


}
// 提交一般形式的采样数据的请求
message SubmitPulseTestRequest {
  // 用户档案ID
  string user_profile_id = 1;
  //用户信息
  UserProfileSnapshot user_profile_snapshot = 2;
  // 单笔信号采样数据
  SamplePayload payload = 3;
  // 是否启用统计，启用统计会参与周报月报统计；
  bool enable_trending_statistics = 4;
  //血氧
  int32 blood_oxygen = 5;
}
// SamplePayload 一般形式的采样数据.
message SamplePayload {
  // 采样使用的手
  int32 hand = 1;

  // 位置信息（可选）
  GeoLocation geo_location = 2;

  // 采样设备
  SampleDevice sample_device = 10;

  // 采样数据
  SampleData sample_data = 11;

  // 本次采样开始时间
  google.protobuf.Timestamp sampling_start_time = 20;
  // 本次采样结束时间
  google.protobuf.Timestamp sampling_stop_time = 21;
}

// 地理位置信息
message GeoLocation {
  // https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates
  // 纬度: position's latitude in decimal degrees
  double latitude = 1;
  // 经度: position's longitude in decimal degrees
  double longitude = 2;
  // 海拔: position's altitude in meters, relative to sea level
  google.protobuf.DoubleValue altitude = 3;
  // 经纬度的精度: accuracy of the latitude and longitude properties, expressed
  // in meters.
  double accuracy = 4;
  // 海拔精度: accuracy of the altitude expressed in meters
  google.protobuf.DoubleValue altitude_accuracy = 5;
  // 方向:  direction in which the device is traveling
  google.protobuf.DoubleValue heading = 6;
  // 设备运动的速度: velocity of the device in meters per second
  google.protobuf.DoubleValue speed = 7;
}
// 采样设备
message SampleDevice {
  // 实际采样工作时的采样频率
  uint32 sample_rate = 1;

  // 设备的型号
  string device_model = 2;
  // 设备的 MAC 地址
  string device_mac = 3;
  // 设备的 sn 号，可为空
  string device_sn = 4;

  // 设备参数 KV（可选）
  // 可以包括 SDK返回的测量上下文信息，
  // 例如 OS 信息、手机型号、摄像头型号、摄像头参数…等等.
  // 不同的 DeviceType 此处内容不一样.
  map<string, string> device_params = 5;
}
// 采样数据
message SampleData {
  // 测量采样数据点的编解码器
  // 用户数据预处理或加解密算法识别.
  string codec = 1;

  // 测量采样数据点的编解码器的参数 KV（可选）
  map<string, string> codec_params = 2;

  // 测量采样数据点的数据，字节流形式。
  // 需要将每个数据点转换为字节形式顺序排列。
  bytes data = 3;

  // HMAC 签名
  string signature = 4;
}

// 提交一般形式的采样数据的响应
message SubmitPulseTestResponse {
  // 分析报告 ID
  string report_id = 1;

  // 是否需要回答问题
  bool has_questions = 2;
}

// 获取阶梯报告请求
message GetReportRequest {
  // 报告ID
  string report_id = 1;
  // 回答的问题，是模块名到回答的问题的映射关系
  map<string, AnswerList> module_answers = 3;
  //应用id
  string application_id = 4;

}
//获取经通天下报告请求
message GetJTReportRequest {
  // 报告ID
  string report_id = 1;
  // 回答的问题，是模块名到回答的问题的映射关系
  map<string, AnswerList> module_answers = 3;
  //应用id
  string application_id = 4;
  //应急态问题
  string emergency_number = 5;
}

// 一个模块的回答清单
message AnswerList {
  // 回答的问题列表
  repeated Answer answers = 1;
}

// Answer 单个问题的回答.
message Answer {
  // 问题
  string question_key = 1;
  // 答案
  repeated string answer_keys = 2;
}

// 获取阶梯报告响应
message GetReportResponse {
  // 是否是完整的报告
  bool is_complete_report = 1;

  // 是否还需要回答问题
  bool has_questions = 2;

  // 提问的问题，是模块名到提问的问题的映射关系
  map<string, QuestionList> module_questions = 3;

  // 报告内容
  HealthReport report = 4;
}

//获取经通天下报告响应
message GetJTReportResponse {
  // 是否是完整的报告
  bool is_complete_report = 1;

  // 是否还需要回答问题
  bool has_questions = 2;

  // 提问的问题，是模块名到提问的问题的映射关系
  map<string, QuestionList> module_questions = 3;

  // 报告内容
  HealthReport report = 4;
}
// 一个模块提问的问题清单
message QuestionList {
  // 提问的问题列表
  repeated Question questions = 1;
}

// Question 问的问题.
message Question {
  // 问题的 key
  string question_key = 1;
  // 内容
  string content = 2;
  // 类型
  string type = 3;
  // 选项
  repeated QuestionChoice choices = 4;
}
// QuestionChoice 选项.
message QuestionChoice {
  // 选项的 key
  string choice_key = 1;
  // 内容
  string content = 2;
  // 冲突选项
  repeated string conflict_keys = 3;
  // 是否默认选中
  bool selected = 4;
}

// HealthReport 健康报告内容.
message HealthReport {
  // 分析报告ID
  string health_report_id = 1;
  // 报告创建时间
  string create_time = 2;
  // 综合风险指数
  RiskInfo health_risk_index = 3;
  // 报告总结
  string report_summary = 4;
  // 体质类型说明
  string physique_explain = 5;
  // 心率
  int32 heart_rate = 6;
  //血氧
  int32 blood_oxygen = 20;
  // 18种疾病风险信息
  repeated RiskInfo risk = 7;
  // 体质类型
  string physique = 8;
  // 膳食建议
  string meal_suggestion = 9;
  // 膳食商品
  repeated MealProduct meal_products = 10;
  // 是否参与分析,为true时不参与周报月报分析,和对比分析
  bool enable_statistics = 11;
  // 健康年龄
  int32 health_age = 12;
  // 备注
  string remark = 13;
  //应急态说明
  string emergency_explain = 23;
  // 波形图数据
  repeated uint32 wave_data = 14;
  // 测量用户档案快照信息
  UserProfileSnapshot user_profile = 15;
  //辨证体质
  repeated PhysicalDialecticsMessage physical_dialectics_list = 19;
  //经络
  repeated MeridianItems meridians = 22;
  //体质所占比例
  double physical_dialectics_proportion = 24;
  //上传渠道 1,app 2,小程序 3,一体机
  int32 upload_channel = 25;
  //报告备注
  repeated string report_remark = 26;
  //健康年龄高于当前健康年龄的比例
  float healthy_age_height_proportion = 27;
  //高风险指标
  repeated HeightRiskInfo height_risk_list = 28;
}
//高风险指标
message HeightRiskInfo{
  // 风险名称
  string risk_name = 1;
  // 风险指数
  int32 index_value = 2;
  //程度
  int32 type_number = 3;
  //可能原因
  string possible_reason_of_health = 4;
  //改善建议
  string guiding_suggestions_of_health = 5;
  //风险定义
  string  risk_definition = 6;
  //风险评估参考
  string risk_assessment = 7;
  //风险标识
  string risk_key = 8;
}
//经络
message MeridianItems {
  string name = 1;
  int32 date = 2;
  MeridianDescribe describe = 3;
}
message MeridianDescribe{
  string describe = 2;
  string walk = 3;
  string summary = 4;
  string reason = 5;
  string performance = 6;
}

// UserProfileSnapshot 测量用户档案快照信息
message UserProfileSnapshot {
  // 档案ID
  string user_profile_id = 1;
  // 昵称
  string nickname = 2;
  // 年龄
  int64 age = 3;
  // 测量手
  int32 hand = 4;
  // 用户性别
  int32 gender = 5;
  // 身高
  int32 height = 6;
  // 体重
  int32 weight = 7;
  // 昵称首字母
  string nickname_initial = 8;
  // 区号
  string nation_code = 9;
  // 手机号
  string phone = 10;
  //客户id
  string client_id = 11;
  //应用id
  string application_id = 12;
}

// 通过体质获得膳食建议请求.
message GetMealSuggestionRequest {
  // 体质编号
  string physique_key = 1;
  // 语言
  string language_code = 2;
}
// 通过体质获得膳食建议响应.
message GetMealSuggestionResponse {
  // 体质名称
  string physique_name = 1;
  // 膳食建议编号
  string meal_suggestion_key = 2;
  // 膳食建议名称
  string meal_suggestion_name = 3;
  // 膳食建议详情
  string meal_suggestion_detail = 4;
  // 膳食建议商品列表
  repeated MealProduct food_suggestions = 5;
}

message PhysicalDialecticsMessage{
  string physical_dialectics_cate_key = 19;
  string physical_dialectics_cate_content = 21;
  PhysicalDescribe describe = 3;
}

message PhysicalDescribe{
  string signs = 1;
  string conditioning = 2;
}

// RiskInfo 风险信息.
message RiskInfo {
  //风险编号
  string risk_id = 1;
  // 风险名称
  string risk_name = 2;
  // 风险指数
  int32 index_value = 3;
  //程度
  string degree = 4;
  //描述
  RiskDescribe describe = 5;
}

message RiskDescribe{
  string describe = 1;
  string refer = 2;
  string reason = 3;
}

// MealProduct 膳食商品.
message MealProduct {
  // 膳食商品跳转链接
  string product_link = 1;
  // 膳食标题
  string product_title = 2;
  // 膳食商品图片
  ImageResource image = 3;
}
// ImageResource 静态图片资源.
message ImageResource {
  // 资源池图片ID
  string image_id = 1;
  // 页面关键字
  string key = 2;
  // 图片格式
  string mime = 3;
  // 页面在S3保存路径
  string store_path = 4;
  // 公共访问路径
  string public_access_url = 5;
  // 发布者ID(系统用户)
  string editor_id = 6;
  // 公开访问路径
  string title = 7;
  // 预览路径
  string preview_url = 8;
}

// Gender 性别.
enum Gender {
  // 无效的性别
  GENDER_INVALID = 0;
  // 未设置性别
  GENDER_UNSET = 1;
  // 男
  GENDER_MALE = 2;
  // 女
  GENDER_FEMALE = 3;
}

// Hand 测量手.
enum Hand {
  // 无效的手
  HAND_INVALID = 0;
  // 未设置左右手
  HAND_UNSET = 1;
  // 左手
  HAND_LEFT = 2;
  // 右手
  HAND_RIGHT = 3;
}

//创建风险推荐商品请求
message CreateRiskCommodityRequest{
  //商品id
  string risk_commodity_id = 1;
  //应用id
  string application_id = 2;
  //风险id
  string risk_id = 3;
  //程度 1 低 2 中 3 高
  int32 degree = 4;
  //商品图片
  string image = 5;
  //商品链接
  string url = 6;
}
//创建风险推荐商品响应
message CreateRiskCommodityResponse{
  //商品id
  string risk_commodity_id = 1;
}

//获取风险列表响应
message GetRiskListResponse{
  repeated RiskMsg list = 1;
}
message RiskMsg{
  //风险id
  string risk_id = 1;
  //风险名称
  string risk_name = 2;
}

//获取风险描述请求
message GetRiskDescribeRequest{
  //风险id
  string risk_id = 1;
  //应用id
  string application_id = 2;

}
//获取风险描述响应
message GetRiskDescribeResponse{
  //风险id
  string risk_id = 1;
  //应用id
  string application_id = 2;
  //风险描述
  string describe = 3;
  //评估参考
  string refer = 4;
  //可能原因
  string reason = 5;
}

//更新风险描述请求
message UpdateRiskDescribeRequest{
  //风险id
  string risk_id = 1;
  //应用id
  string application_id = 2;
  //风险描述
  string describe = 3;
  //评估参考
  string refer = 4;
  //可能原因
  string reason = 5;
}
//更新风险描述响应
message UpdateRiskDescribeResponse{
  //风险id
  string risk_id = 1;
}

//获取经络列表响应
message GetMeridianListResponse{
  repeated MeridianMsg list = 1;
}
message MeridianMsg{
  //经络id
  string meridian_id = 1;
  //经络名称
  string meridian_name = 2;
}

//获取经络描述请求
message GetMeridianDescribeRequest{
  //经络id
  string meridian_id = 1;
  //应用id
  string application_id = 2;
}
//获取经络描述响应
message GetMeridianDescribeResponse{
  //经络id
  string meridian_id = 1;
  //应用id
  string application_id = 2;
  //风险描述
  string describe = 3;
  //遵行
  string walk = 4;
  //主治概要
  string summary = 5;
  //失衡原因
  string reason = 6;
  //表现
  string performance = 7;
}
//更新经络描述请求
message UpdateMeridianDescribeRequest{
  //经络id
  string meridian_id = 1;
  //应用id
  string application_id = 2;
  //风险描述
  string describe = 3;
  //遵行
  string walk = 4;
  //主治概要
  string summary = 5;
  //失衡原因
  string reason = 6;
  //表现
  string performance = 7;
}
//更新经络描述响应
message UpdateMeridianDescribeResponse{
  //经络id
  string meridian_id = 1;
}

//获取体质列表
message GetPhysicalListResponse{
  repeated PhysicalMsg list = 1;
}
message PhysicalMsg{
  //体质id
  string physical_dialectics_cate_key = 1;
  string physical_dialectics_cate_name = 2;
}

//获取体质描述请求
message GetPhysicalDescribeRequest{
  //体质id
  string physical_dialectics_cate_key = 1;
  //应用id
  string application_id = 2;
}
//获取体质描述响应
message GetPhysicalDescribeResponse{
  //体质id
  string physical_dialectics_cate_key = 1;
  //应用id
  string application_id = 2;
  //体征
  string signs = 3;
  //调理方法
  string conditioning = 4;
}

//更新体质描述请求
message UpdatePhysicalDescribeRequest{
  //体质id
  string physical_dialectics_cate_key = 1;
  //应用id
  string application_id = 2;
  //体征
  string signs = 3;
  //调理方法
  string conditioning = 4;
}
//更新体质描述响应
message UpdatePhysicalDescribeResponse{
  //体质id
  string physical_dialectics_cate_key = 1;
}

//获取推荐商品列表请求
message GetRiskCommodityListRequest{
  //风险id
  string risk_id = 1;
  //应用id
  string application_id = 2;
  //风险名称
  string risk_name = 3;
  //风险程度
  int32 degree = 4;
}
//获取推荐商品列表响应
message GetRiskCommodityListResponse{
  repeated RiskCommodityMsg list = 1;
}
message RiskCommodityMsg{
  //商品id
  string risk_commodity_id = 1;
  //风险id
  string risk_id = 2;
  //风险名称
  string risk_name = 3;
  //程度 1 低 2 中 3 高
  string degree = 4;
  //商品图片
  string image = 5;
  //商品链接
  string url = 6;
}

//编辑报告显示内容请求
message EditReportShowRequest{
  //应用id
  string application_id = 1;
  //身体状态 0 关闭 1 开启
  string is_body_condition = 2;
  //心率 0 关闭 1 开启
  string is_heart_rate = 3;
  //血氧 0 关闭 1 开启
  string is_blood_oxygen = 4;
  //综合风险 0 关闭 1 开启
  string is_comprehensive_risk = 5;
  //综合点评 0 关闭 1 开启
  string is_comprehensive_reviews = 6;
  //波形图 0 关闭 1 开启
  string is_wave = 7;
  //血压风险 0 关闭 1 开启
  string is_risk_1 = 8;
  //血脂风险 0 关闭 1 开启
  string is_risk_2 = 9;
  //血糖风险 0 关闭 1 开启
  string is_risk_3 = 10;
  //心血管风险 0 关闭 1 开启
  string is_risk_4 = 11;
  //脑血管风险 0 关闭 1 开启
  string is_risk_5 = 12;
  //肝负担风险 0 关闭 1 开启
  string is_risk_6 = 13;
  //肾负担风险 0 关闭 1 开启
  string is_risk_7 = 14;
  //消化力 0 关闭 1 开启
  string is_risk_8 = 15;
  //胃食道逆流风险 0 关闭 1 开启
  string is_risk_9 = 16;
  //免疫力 0 关闭 1 开启
  string is_risk_10 = 17;
  //缺钙风险 0 关闭 1 开启
  string is_risk_11 = 18;
  //压力 0 关闭 1 开启
  string is_risk_12 = 19;
  //疲劳 0 关闭 1 开启
  string is_risk_13 = 20;
  //睡眠质量 0 关闭 1 开启
  string is_risk_14 = 21;
  //内分泌风险 0 关闭 1 开启
  string is_risk_15 = 22;
  //过敏风险 0 关闭 1 开启
  string is_risk_16 = 23;
  //感染风险 0 关闭 1 开启
  string is_risk_17 = 24;
  //胃酸过多风险 0 关闭 1 开启
  string is_risk_18 = 25;
  //改善建议 0 关闭 1 开启
  string is_suggest = 26;
}
//编辑报告显示内容响应
message EditReportShowResponse{
  //应用id
  string application_id = 1;
}

//获取报告显示内容请求
message GetReportShowRequest{
  //应用id
  string application_id = 1;
}
//获取报告显示内容响应
message GetReportShowResponse{
  //应用id
  string application_id = 1;
  //身体状态 0 关闭 1 开启
  string is_body_condition = 2;
  //心率 0 关闭 1 开启
  string is_heart_rate = 3;
  //血氧 0 关闭 1 开启
  string is_blood_oxygen = 4;
  //综合风险 0 关闭 1 开启
  string is_comprehensive_risk = 5;
  //综合点评 0 关闭 1 开启
  string is_comprehensive_reviews = 6;
  //波形图 0 关闭 1 开启
  string is_wave = 7;
  //血压风险 0 关闭 1 开启
  string is_risk_1 = 8;
  //血脂风险 0 关闭 1 开启
  string is_risk_2 = 9;
  //血糖风险 0 关闭 1 开启
  string is_risk_3 = 10;
  //心血管风险 0 关闭 1 开启
  string is_risk_4 = 11;
  //脑血管风险 0 关闭 1 开启
  string is_risk_5 = 12;
  //肝负担风险 0 关闭 1 开启
  string is_risk_6 = 13;
  //肾负担风险 0 关闭 1 开启
  string is_risk_7 = 14;
  //消化力 0 关闭 1 开启
  string is_risk_8 = 15;
  //胃食道逆流风险 0 关闭 1 开启
  string is_risk_9 = 16;
  //免疫力 0 关闭 1 开启
  string is_risk_10 = 17;
  //缺钙风险 0 关闭 1 开启
  string is_risk_11 = 18;
  //压力 0 关闭 1 开启
  string is_risk_12 = 19;
  //疲劳 0 关闭 1 开启
  string is_risk_13 = 20;
  //睡眠质量 0 关闭 1 开启
  string is_risk_14 = 21;
  //内分泌风险 0 关闭 1 开启
  string is_risk_15 = 22;
  //过敏风险 0 关闭 1 开启
  string is_risk_16 = 23;
  //感染风险 0 关闭 1 开启
  string is_risk_17 = 24;
  //胃酸过多风险 0 关闭 1 开启
  string is_risk_18 = 25;
  //改善建议 0 关闭 1 开启
  string is_suggest = 26;
}

//编辑报告对比显示功能请求
message EditReportComparedShowRequest{
  //应用id
  string application_id = 1;
  //近两天对比 0 关闭 1 开启
  string is_recent = 2;
  //周对比 0 关闭 1 开启
  string is_week = 3;
}
//编辑报告对比显示功能响应
message EditReportComparedShowResponse{
  //应用id
  string application_id = 1;
}

//获取报告对比显示功能请求
message GetReportComparedShowRequest{
  //应用id
  string application_id = 1;
}
//获取报告对比显示功能响应
message GetReportComparedShowResponse{
  //应用id
  string application_id = 1;
  //近两天对比 0 关闭 1 开启
  string is_recent = 2;
  //周对比 0 关闭 1 开启
  string is_week = 3;
}

// 报告对比接口请求
message GetComparisonReportNewRequest {
  // 对比的第一个报告ID
  string first_report_id = 2;
  // 对比的第二个报告ID
  string second_report_id = 3;
  // 全报告-1	 综合风险指数与健康年龄-2	 经络分析-3	18项风险评估-4
  int32 type = 6;
  // keys 按小项组合
  //【神经系统】压力-12 疲劳-13 睡眠质量-14
  //【心血管系统】血压风险-1 血脂风险-2 心血管风险-4 脑血管风险-5
  //【功能系统】肝负担风险-6 肾负担风险-7 内分泌风险-15 缺钙风险-11
  //【代谢系统】血糖风险-3 免疫力-10 过敏风险-16 感染风险-17
  //【消化系统】消化力-8 胃食道逆流风险-9 胃酸过多风险-18
  //【经络分析】心包经-1 肝经-2 肾经-3 脾经-4 肺经-5 胃经-6 胆经-7 膀胱经-8
  string keys = 7;
}

// 报告对比接口响应
message GetComparisonReportNewResponse {
  // c端对比报告
  ComparisonReportNew comparison_report = 1;
  string is_member = 2;
}
message ComparisonReportNew {
  // 健康改善状况
  int32 improvement_status = 1;
  // 改善指数
  int32 improvement_index = 2;
  // 改善概述
  string improvement_summary = 3;
  // 升高的风险指数个数
  int32 increased_risks_count = 4;
  // 没有改变风险指数个数
  int32 same_risks_count = 5;
  // 降低的风险指数个数
  int32 decreased_risks_count = 6;
  // 改善(降低)最多的风险内容
  repeated RiskComparison reducing_risks = 7;

  // 18种系统风险对比
  repeated SystemRiskComparison risk = 8;

  //经络对比
  repeated Comparison meridians = 11;

  // 报告时间(日期早)
  google.protobuf.Timestamp former_report = 9;
  // 报告时间(日期晚)
  google.protobuf.Timestamp later_report = 10;

  // 综合风险
  HealthComparison health = 12;
  // 健康年龄
  HealthAgeComparison health_age = 13;
}
// RiskComparison 对比信息.
message RiskComparison {
  // 风险名称
  string risk_name = 1;
  // 风险指数(日期早)
  int32 former_index_value = 2;
  // 风险指数(日期晚)
  int32 later_index_value = 3;
  // 变化趋势
  string trend = 4;
}
// SystemRiskComparison 对比信息.
message SystemRiskComparison {
  string system = 1;
  repeated RiskComparison list = 2;
}

message MeridianComparison {
  string meridian_name = 1;
  int32 first = 2;
  int32 second = 3;
  // 变化趋势
  string trend = 4;
}
// HealthComparison 对比信息.
message HealthComparison {
  // 风险指数(日期早)
  int32 former_index_value = 1;
  // 风险指数(日期晚)
  int32 later_index_value = 2;
  // 变化趋势
  string trend = 3;
  // 名称
  string name = 4;
}

// HealthAgeComparison 对比信息.
message HealthAgeComparison {
  // 风险指数(日期早)
  int32 former_index_value = 1;
  // 风险指数(日期晚)
  int32 later_index_value = 2;
  // 变化趋势
  string trend = 3;
  // 名称
  string name = 4;
}
message Comparison {
  string meridian_name = 1;
  int32 first = 2;
  int32 second = 3;
  // 变化趋势
  string trend = 4;
}

//列举近两天报告请求
message ListDaysReportsRequest {
  string user_profile_id = 1;
}

//列举近两天报告响应
message ListDaysReportsResponse {
  repeated DaysReport days_report = 1;
}
//一天的报告列表
message DaysReport {
  //日期
  google.protobuf.Timestamp date = 1;
  //
  repeated HealthReport health_reports = 2;
}

//列举近一周报告请求
message ListWeekDaysReportsRequest {
  string user_profile_id = 1;
}

//列举近一周报告响应
message ListWeekDaysReportsResponse {
  repeated DaysReport days_report = 1;
}
// 获取月测量报告天数请求
message ListMonthlyReportDaysRequest {
  // 用户档案ID
  string user_profile_id = 1;
  // 年
  int32 year = 2;
  // 月
  int32 month = 3;
  // 当前时区
  string time_zone = 4;
}

// 获取月测量报告天数响应
message ListMonthlyReportDaysResponse {
  // 所有有记录的日期
  repeated google.protobuf.Timestamp days = 1;
  google.protobuf.Timestamp last_time = 2;
}
// 测量记录管理模块请求
message ListReportsRequest {
  // 搜索条件
  SearchCondition search_condition = 1;
  // 分页
  Pagination pagination = 2;
  // 是否是后台管理请求
  bool is_system = 3;

}
message Pagination {
  // 分页偏移量
  int32 offset = 1;
  // 期望分页查询记录的数量
  int32 size = 2;
}

// SearchCondition 报告搜索条件.
message SearchCondition {
  // 用户档案ID
  string user_profile_id = 2;
  // 时间查询左边界
  google.protobuf.Timestamp start_time = 3;
  // 时间查询右边界
  google.protobuf.Timestamp end_time = 4;
}
// 测量记录管理模块响应
message ListReportsResponse {
  // 过滤出的报告结果
  repeated HealthReport health_reports = 1;
  // 总条数
  int32 total_count = 100;
}

//获取18大风险详情
message GetRiskDetailByKeyRequest{
  string risk_key = 1;
  string type_number = 2;
}
message GetRiskDetailByKeyResponse{
  //风险定义
  string risk_definition = 1;
  //风险评估参考
  string risk_assessment = 2;
  //可能原因
  string possible_reason_of_health = 3;
  //改善建议
  string guiding_suggestions_of_health = 4;
}